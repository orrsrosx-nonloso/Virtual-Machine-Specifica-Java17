### 2.12. Class Libraries类库
Java虚拟机必须为Java SE平台的类库的实现提供足够的支持。这些库中的一些类如果没有Java虚拟机的配合就无法实现。

可能需要Java虚拟机的特殊支持的类包括那些支持:

反射，例如包java.lang.reflect中的类和类class。

加载和创建类或接口。最明显的例子是类ClassLoader。

类或接口的链接和初始化。上面引用的示例类也属于这一类。

安全性，例如包java中的类。security和其他类，如SecurityManager。

多线程，比如Thread类。

弱引用，例如包java.lang.ref中的类。

上面的列表是为了说明而不是全面的。这些类或它们提供的功能的详尽列表超出了本规范的范围。有关详细信息，请参阅Java SE平台类库的规范。

### 2.13. Public Design, Private Implementation公共设计，私人实现
到目前为止，本规范概述了Java虚拟机的公共视图:类文件格式和指令集。这些组件对于Java虚拟机的硬件独立性、操作系统独立性和实现独立性至关重要。实现者可能更愿意将它们视为在每个实现Java SE平台的主机之间安全地通信程序片段的方法，而不是要严格遵循的蓝图。

理解公共设计和私有实现之间的界限是很重要的。Java虚拟机实现必须能够读取类文件，并且必须准确地实现其中的Java虚拟机代码的语义。这样做的一种方法是将该文档作为规范，并逐字实现该规范。但是，对于实现者来说，在此规范的约束下修改或优化实现也是完全可行和理想的。只要类文件格式可以被读取，并且其代码的语义得到维护，实现者就可以以任何方式实现这些语义。只要仔细维护正确的外部接口，“幕后”是实现者的业务。

也有一些例外:调试器、分析器和即时代码生成器都可能需要访问通常被认为是“底层”的Java虚拟机元素。在适当的情况下，Oracle与其他Java虚拟机实现者和工具供应商合作，开发供这些工具使用的Java虚拟机的公共接口，并在整个行业中推广这些接口。

实现者可以使用这种灵活性来定制Java虚拟机实现，以获得高性能、低内存使用或可移植性。在给定的实现中，什么是有意义的取决于该实现的目标。实施方案的范围包括:

在加载时或执行期间将Java虚拟机代码转换为另一个虚拟机的指令集。

在加载时或执行期间将Java虚拟机代码转换为主机CPU的本机指令集(有时称为即时或JIT代码生成)。

精确定义的虚拟机和目标文件格式的存在不需要显著地限制实现者的创造力。Java虚拟机被设计成支持许多不同的实现，提供新的和有趣的解决方案，同时保持实现之间的兼容性。